<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no" />
  <title>Thai Consonant Match</title>
  <link rel="manifest" href="manifest.webmanifest">
  <meta name="theme-color" content="#222" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <header>
    <h1>Thai Learning Game</h1>
    
    <!-- Tab Navigation -->
    <div class="tab-nav">
      <button class="tab-btn active" data-tab="consonants">Consonants</button>
      <button class="tab-btn" data-tab="vowels">Vowels</button>
      <button class="tab-btn" data-tab="writing">Writing</button>
    </div>
    
    <!-- Consonants Tab -->
    <div id="consonants-tab" class="tab-content active">
      <div class="controls">
        <label>Consonant Group:
          <select id="groupSelect">
            <option value="group1">Group 1: Super Common (6 chars)</option>
            <option value="group2">Group 2: Very Common (6 chars)</option>
            <option value="group3">Group 3: Common (6 chars)</option>
            <option value="group4">Group 4: Moderate (6 chars)</option>
            <option value="group5">Group 5: Less Common (6 chars)</option>
            <option value="group6">Group 6: Rare (3 chars)</option>
            <option value="group7">Group 7: Very Rare (7 chars)</option>
            <option value="group8">Group 8: Extremely Rare (6 chars)</option>
            <option value="custom">Custom Size</option>
          </select>
        </label>
        <div id="customSizeContainer" style="display: none;">
          <label>Custom Size:
            <input type="number" id="deckSize" value="8" min="2" max="44" step="1" />
          </label>
        </div>
        <button id="newGameBtn">New Game</button>
      </div>
    </div>
    
    <!-- Vowels Tab -->
    <div id="vowels-tab" class="tab-content">
      <div class="controls">
        <label>Vowel Group:
          <select id="vowelGroupSelect">
            <option value="group1">Group 1: Basic Monophthongs (8 vowels)</option>
            <option value="group2">Group 2: Early Compounds (6 vowels)</option>
            <option value="group3">Group 3: Uea/Ua & O Sounds (6 vowels)</option>
            <option value="group4">Group 4: Aw-like & Mid Vowels (6 vowels)</option>
            <option value="group5">Group 5: Special Forms (6 vowels)</option>
            <option value="vowelCustom">Custom Size</option>
          </select>
        </label>
        <div id="vowelCustomSizeContainer" style="display: none;">
          <label>Custom Size:
            <input type="number" id="vowelDeckSize" value="8" min="2" max="32" step="1" />
          </label>
        </div>
        <button id="newVowelGameBtn">New Game</button>
      </div>
    </div>
    
    <!-- Writing Tab -->
    <div id="writing-tab" class="tab-content">
      <div class="controls">
        <label>Character Type:
          <select id="writingTypeSelect">
            <option value="consonants">Consonants</option>
            <option value="vowels">Vowels</option>
          </select>
        </label>
        <label>Group:
          <select id="writingGroupSelect">
            <option value="group1">Group 1</option>
          </select>
        </label>
        <button id="startWritingBtn">Start Practice</button>
      </div>
    </div>
    
    <div id="status"></div>
  </header>
  <main>
    <!-- Memory Game Section -->
    <section id="game" class="grid" aria-live="polite"></section>
    
    <!-- Writing Practice Section -->
    <section id="writing-practice" class="writing-container" style="display: none;">
      <!-- Character Display Phase -->
      <div id="character-display" class="character-display">
        <div class="character-info">
          <div id="display-character" class="display-character"></div>
          <div id="display-romanization" class="display-romanization"></div>
          <div id="display-thai-name" class="display-thai-name"></div>
        </div>
        <div class="character-controls">
          <button id="replay-audio" class="secondary-btn">ðŸ”Š Play Audio</button>
          <button id="start-drawing" class="primary-btn">Start Drawing</button>
        </div>
      </div>
      
      <!-- Drawing Phase -->
      <div id="drawing-phase" class="drawing-phase" style="display: none;">
        <div class="drawing-header">
          <div id="drawing-prompt">Draw: <span id="prompt-character"></span></div>
          <div class="drawing-controls">
            <button id="clear-canvas" class="secondary-btn">Clear</button>
            <button id="done-drawing" class="primary-btn">Done</button>
          </div>
        </div>
        <div class="canvas-container">
          <canvas id="drawing-canvas" width="300" height="300"></canvas>
        </div>
      </div>
      
      <!-- Result Phase -->
      <div id="result-phase" class="result-phase" style="display: none;">
        <div class="result-header">
          <h3 id="result-title">How did you do?</h3>
        </div>
        <div class="result-comparison">
          <div class="result-your-drawing">
            <h4>Your Drawing</h4>
            <canvas id="result-canvas" width="150" height="150"></canvas>
          </div>
          <div class="result-correct">
            <h4>Correct Form</h4>
            <div id="result-character" class="result-character-display"></div>
            <div id="result-info" class="result-info"></div>
          </div>
        </div>
        <div class="result-feedback">
          <div id="feedback-message" class="feedback-message"></div>
        </div>
        <div class="result-controls">
          <button id="next-character" class="primary-btn">Next Character</button>
          <button id="practice-again" class="secondary-btn">Practice Again</button>
        </div>
      </div>
    </section>
  </main>
  
  <!-- Victory Modal -->
  <div id="victoryModal" class="modal">
    <div class="modal-content">
      <h2>ðŸŽ‰ Congratulations!</h2>
      <p id="victoryMessage">Well done! You matched all pairs successfully!</p>
      <div class="modal-buttons">
        <button id="playAgainBtn" class="primary-btn">Play Again</button>
        <button id="closeModalBtn" class="secondary-btn">Close</button>
      </div>
    </div>
  </div>
  
  <footer>
    <p>Progressive Web App â€“ offline capable. Data derived from your Anki deck.</p>
  </footer>
  <script src="data.js"></script>
  <script src="frequency-groups.js"></script>
  <script src="vowel-groups.js"></script>
  <script src="game.js"></script>
</body>
</html>
